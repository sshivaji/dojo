#:kivy 1.0
#:import cw chesswidget.ChessBoardWidget
#:import gp gamepanel.GamePanel

[HSeparator@Label]:
    size_hint_y: None
    height: max(dp(25), self.texture_size[1] + dp(10))
    text: ctx.text if 'text' in ctx else ''
    text_size: self.width, None
    valign: 'middle'
    halign: 'center'
    canvas.before:
        Color:
            rgba: .2, .2, .2, .8
        Rectangle:
            size: self.size
            pos: self.pos

<Controller>:
    label_wid: my_custom_label

    BoxLayout:
        orientation: 'vertical'
        padding: 0

        HSeparator:

            id: title_label
            text: root.title
            size_hint_y: None
            height: 20

        ChessBoardWidget:

            size_hint_y:  None #1.5 * float(root.width)/float(root.height)
            height: min (root.size[0], root.size[1]-200)
            game: root.game

        Button:
            text: 'My controller info is: ' + root.info
            on_press: root.do_action()
            size_hint_y: None
            height: 40

        ScrollView:
            GridLayout:
                cols: 1
                spacing: 10
                size_hint_y: None
                height: my_custom_label.texture_size[1]
                GamePanel:
                    id: my_custom_label
                    text: 'My label before button press'
                    game: root.game
                    text_size: self.width, None
                    size_hint: (1, None)
                    size: self.parent.width, self.texture_size[1]
                    valign: 'top'

        BoxLayout:
            orientation: 'horizontal'
            padding: 0
            size_hint_y: None
            height: 40

            Spinner:
                text: 'Game'
                size_hint: (None, None)
                height: 40
                width: 100
                values: ('Home', 'Work', 'Other', 'Custom')

            Spinner:
                text: 'Options'
                size_hint: (None, None)
                height: 40
                width: 100
                values: ('Home', 'Work', 'Other', 'Custom')

            Button:
                text: '<<'
                size_hint: (None, None)
                height: 40
                width: 40